CREATE TABLE VEM_SER.PAIS(
ID_PAIS NUMBER PRIMARY KEY NOT NULL,
NOME VARCHAR2(50) UNIQUE NOT NULL
);

CREATE TABLE VEM_SER.ESTADO(
ID_ESTADO NUMBER PRIMARY KEY NOT NULL,
ID_PAIS NUMBER NOT NULL,
NOME VARCHAR(50) UNIQUE NOT NULL,
CONSTRAINT FK_ID_PAIS FOREIGN KEY (ID_PAIS) REFERENCES PAIS(ID_PAIS)
);

CREATE TABLE VEM_SER.CIDADE(
ID_CIDADE NUMBER PRIMARY KEY NOT NULL,
ID_ESTADO NUMBER NOT NULL,
NOME VARCHAR(50) UNIQUE NOT NULL,
CONSTRAINT FK_ID_ESTADO FOREIGN KEY (ID_ESTADO) REFERENCES ESTADO(ID_ESTADO)
);

CREATE TABLE VEM_SER.BAIRRO(
ID_BAIRRO NUMBER PRIMARY KEY NOT NULL,
ID_CIDADE NUMBER NOT NULL,
ID_ESTADO NUMBER NOT NULL,
NOME VARCHAR(50) NOT NULL,
CONSTRAINT FK_ID_CIDADE FOREIGN KEY (ID_CIDADE) REFERENCES CIDADE(ID_CIDADE),
CONSTRAINT FK_ID_ESTADO_BAIRRO FOREIGN KEY (ID_ESTADO) REFERENCES ESTADO(ID_ESTADO)
);

CREATE TABLE VEM_SER.ENDERECO(
ID_ENDERECO NUMBER PRIMARY KEY NOT NULL,
ID_BAIRRO NUMBER NOT NULL,
ID_CIDADE NUMBER NOT NULL,
LOGRADOURO VARCHAR2(255) NOT NULL,
NUMERO NUMBER NOT NULL,
COMPLEMENTO VARCHAR2(255),
CEP CHAR(9),
CONSTRAINT FK_ID_BAIRRO FOREIGN KEY (ID_BAIRRO) REFERENCES BAIRRO(ID_BAIRRO),
CONSTRAINT FK_ID_CIDADE_ENDERECO FOREIGN KEY (ID_CIDADE) REFERENCES CIDADE(ID_CIDADE)
);

CREATE SEQUENCE seq_pais
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE SEQUENCE seq_estado
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE SEQUENCE seq_cidade
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE SEQUENCE seq_bairro
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE SEQUENCE seq_endereco
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

INSERT INTO VEM_SER.PAIS 
(ID_PAIS, NOME)
VALUES (SEQ_PAIS.nextval, 'Brasil');
INSERT INTO VEM_SER.PAIS 
(ID_PAIS, NOME)
VALUES (SEQ_PAIS.nextval, 'Uruguai');

INSERT INTO VEM_SER.ESTADO 
(ID_ESTADO, ID_PAIS, NOME)
VALUES (SEQ_ESTADO.nextval, 1, 'Minas Gerais');
INSERT INTO VEM_SER.ESTADO 
(ID_ESTADO, ID_PAIS, NOME)
VALUES (SEQ_ESTADO.nextval, 1, 'Goiás');
INSERT INTO VEM_SER.ESTADO 
(ID_ESTADO, ID_PAIS, NOME)
VALUES (SEQ_ESTADO.nextval, 2, 'Artigas');
INSERT INTO VEM_SER.ESTADO 
(ID_ESTADO, ID_PAIS, NOME)
VALUES (SEQ_ESTADO.nextval, 2, 'Canelones');

INSERT INTO VEM_SER.CIDADE 
(ID_CIDADE, ID_ESTADO, NOME)
VALUES (SEQ_CIDADE.nextval, 1, 'Patos de Minas');
INSERT INTO VEM_SER.CIDADE 
(ID_CIDADE, ID_ESTADO, NOME)
VALUES (SEQ_CIDADE.nextval, 2, 'Anápolis');
INSERT INTO VEM_SER.CIDADE 
(ID_CIDADE, ID_ESTADO, NOME)
VALUES (SEQ_CIDADE.nextval, 3, 'Guararapes');
INSERT INTO VEM_SER.CIDADE 
(ID_CIDADE, ID_ESTADO, NOME)
VALUES (SEQ_CIDADE.nextval, 4, 'Pantalones');

INSERT INTO VEM_SER.BAIRRO 
(ID_BAIRRO, ID_CIDADE, ID_ESTADO, NOME)
VALUES (SEQ_BAIRRO.nextval, 1, 1, 'Patinhos');
INSERT INTO VEM_SER.BAIRRO 
(ID_BAIRRO, ID_CIDADE, ID_ESTADO, NOME)
VALUES (SEQ_BAIRRO.nextval, 2, 2, 'Goianinhas');
INSERT INTO VEM_SER.BAIRRO 
(ID_BAIRRO, ID_CIDADE, ID_ESTADO, NOME)
VALUES (3, 3, 3, 'Coronel Moraes');
INSERT INTO VEM_SER.BAIRRO 
(ID_BAIRRO, ID_CIDADE, ID_ESTADO, NOME)
VALUES (4, 4, 4, 'Sargento Pantalones');

INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 1, 1, 'Rua dos patos', 45, 'Perto da madereira', '789456020');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 1, 1, 'Rua das patas', 30, 'Perto do salão', '789452222');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 2, 2, 'Rua dos goianinhos', 10, 'Casa', '789456852');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 2, 2, 'Rua das goianinhas', 12, 'Casa', '321654258');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 3, 3, 'Rua de los canelones', 23, 'Apartamento', '147852695');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 3, 3, 'Rua de las canelitas', 22, 'Apartamento 2', '546879125');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 4, 4, 'Rua de los pantalones', 71, 'Kitnet', '454657889');
INSERT INTO VEM_SER.ENDERECO
(ID_ENDERECO, ID_BAIRRO, ID_CIDADE, LOGRADOURO, NUMERO, COMPLEMENTO, CEP)
VALUES(SEQ_ENDERECO.nextval, 4, 4, 'Rua de las pantaleiras', 105, 'Casa de los fundos', '963258741');

SELECT * FROM VEM_SER.BAIRRO b
DELETE FROM VEM_SER.BAIRRO b2 
WHERE ID_BAIRRO = 3;

--AQUI COMEÇA AULA09HOMEWORK1

SELECT NOME FROM PAIS
ORDER BY NOME DESC;

SELECT LOGRADOURO, CEP
FROM ENDERECO e 
WHERE UPPER(LOGRADOURO) LIKE 'A%';

SELECT CEP FROM ENDERECO e 
WHERE CEP LIKE '%0';

SELECT NUMERO FROM ENDERECO e 
WHERE NUMERO > 0 AND NUMERO < 101;

SELECT LOGRADOURO, CEP FROM ENDERECO e 
WHERE UPPER(LOGRADOURO) LIKE 'RUA%'
ORDER BY CEP DESC;

SELECT COUNT(LOGRADOURO) FROM ENDERECO e;

SELECT COUNT(LOGRADOURO)
FROM ENDERECO e 
GROUP BY ID_CIDADE;
